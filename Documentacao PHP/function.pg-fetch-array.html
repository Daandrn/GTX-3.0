<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Fetch a row as an array</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.pg-fetch-all.html">« pg_fetch_all</a></li>
      <li style="float: right;"><a href="function.pg-fetch-assoc.html">pg_fetch_assoc »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.pgsql.html">PostgreSQL Fun&ccedil;&otilde;es</a></li>
    <li>Fetch a row as an array</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.pg-fetch-array" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">pg_fetch_array</h1>
  <p class="refpurpose"><span class="refname">pg_fetch_array</span> &mdash; <span class="dc-title">Fetch a row as an array</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.pg-fetch-array-description">
  <h3 class="title">Descrição</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>pg_fetch_array</strong></span>(<span class="methodparam"><span class="type"><span class="type PgSql\Result">PgSql\Result</span></span> <code class="parameter">$result</code></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">int</span><span class="type"></span></span> <code class="parameter">$row</code><span class="initializer"> = <strong><code>null</code></strong></span></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = <strong><code>PGSQL_BOTH</code></strong></span></span>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>pg_fetch_array()</strong></span> returns an array that
   corresponds to the fetched row (record).
  </p>
  <p class="para">
   <span class="function"><strong>pg_fetch_array()</strong></span> is an extended version of
   <span class="function"><a href="function.pg-fetch-row.html" class="function">pg_fetch_row()</a></span>.  In addition to storing the
   data in the numeric indices (field number) to the result array, it
   can also store the data using associative indices (field name).
   It stores both indices by default.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: <span class="simpara">Esta função define campos NULL como o
valor <strong><code>null</code></strong> do PHP.</span></p></blockquote>
  <p class="para">
   <span class="function"><strong>pg_fetch_array()</strong></span> is NOT significantly
   slower than using <span class="function"><a href="function.pg-fetch-row.html" class="function">pg_fetch_row()</a></span>, and
   is significantly easier to use.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.pg-fetch-array-parameters">
  <h3 class="title">Parâmetros</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">result</code></dt>

     <dd>

      <p class="para">Uma instância de <span class="classname"><strong class="classname">PgSql\Result</strong></span>, retornada por <span class="function"><a href="function.pg-query.html" class="function">pg_query()</a></span>,
<span class="function"><a href="function.pg-query-params.html" class="function">pg_query_params()</a></span> ou <span class="function"><a href="function.pg-execute.html" class="function">pg_execute()</a></span> (entre outras).</p>
     </dd>

    
    
     <dt>
<code class="parameter">row</code></dt>

     <dd>

      <p class="para">
       Row number in result to fetch. Rows are numbered from 0 upwards. If
       omitted or <strong><code>null</code></strong>, the next row is fetched.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
Um parâmetro opcional que controla como o <span class="type">array</span> retornado será indexado.
<code class="parameter">mode</code> é uma constante e pode assumir os seguintes valores:
<strong><code>PGSQL_ASSOC</code></strong>, <strong><code>PGSQL_NUM</code></strong> e <strong><code>PGSQL_BOTH</code></strong>.
Usando <strong><code>PGSQL_NUM</code></strong>, a função retornará um array com índices numéricos,
usando <strong><code>PGSQL_ASSOC</code></strong> ela retornará apenas índices associativos
enquanto <strong><code>PGSQL_BOTH</code></strong> retornará índices numéricos e associativos.</p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.pg-fetch-array-returnvalues">
  <h3 class="title">Valor Retornado</h3>
  <p class="para">
   An <span class="type">array</span> indexed numerically (beginning with 0) or
   associatively (indexed by field name), or both.
   Each value in the <span class="type">array</span> is represented as a 
   <span class="type">string</span>.  Database <code class="literal">NULL</code>
   values are returned as <strong><code>null</code></strong>.
  </p>
  <p class="para">
   <strong><code>false</code></strong> is returned if <code class="parameter">row</code> exceeds the number
   of rows in the set, there are no more rows, or on any other error.
   Fetching from the result of a query other than SELECT will also return <strong><code>false</code></strong>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.pg-fetch-array-changelog">
  <h3 class="title">Changelog</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versão</th>
      <th>Descrição</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
 <td>8.1.0</td>
 <td>
  O parâmetro <code class="parameter">result</code> agora espera uma instância de <span class="classname"><strong class="classname">PgSql\Result</strong></span>;
  anteriormente, um <a href="language.types.resource.html" class="link">resource</a> era esperado.
 </td>
</tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.pg-fetch-array-examples">
  <h3 class="title">Exemplos</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Exemplo #1 <span class="function"><strong>pg_fetch_array()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php <br /><br />$conn </span><span style="color: #007700">= </span><span style="color: #0000BB">pg_pconnect</span><span style="color: #007700">(</span><span style="color: #DD0000">"dbname=publisher"</span><span style="color: #007700">);<br />if (!</span><span style="color: #0000BB">$conn</span><span style="color: #007700">) {<br />  echo </span><span style="color: #DD0000">"An error occurred.\n"</span><span style="color: #007700">;<br />  exit;<br />}<br /><br /></span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">pg_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">, </span><span style="color: #DD0000">"SELECT author, email FROM authors"</span><span style="color: #007700">);<br />if (!</span><span style="color: #0000BB">$result</span><span style="color: #007700">) {<br />  echo </span><span style="color: #DD0000">"An error occurred.\n"</span><span style="color: #007700">;<br />  exit;<br />}<br /><br /></span><span style="color: #0000BB">$arr </span><span style="color: #007700">= </span><span style="color: #0000BB">pg_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">PGSQL_NUM</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">] . </span><span style="color: #DD0000">" &lt;- Row 1 Author\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">] . </span><span style="color: #DD0000">" &lt;- Row 1 E-mail\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// The row parameter is optional; NULL can be passed instead,<br />// to pass a result_type.  Successive calls to pg_fetch_array<br />// will return the next row.<br /></span><span style="color: #0000BB">$arr </span><span style="color: #007700">= </span><span style="color: #0000BB">pg_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">, </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #0000BB">PGSQL_ASSOC</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">"author"</span><span style="color: #007700">] . </span><span style="color: #DD0000">" &lt;- Row 2 Author\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">"email"</span><span style="color: #007700">] . </span><span style="color: #DD0000">" &lt;- Row 2 E-mail\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$arr </span><span style="color: #007700">= </span><span style="color: #0000BB">pg_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">"author"</span><span style="color: #007700">] . </span><span style="color: #DD0000">" &lt;- Row 3 Author\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">] . </span><span style="color: #DD0000">" &lt;- Row 3 E-mail\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.pg-fetch-array-seealso">
  <h3 class="title">Veja Também</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.pg-fetch-row.html" class="function" rel="rdfs-seeAlso">pg_fetch_row()</a> - Get a row as an enumerated array</span></li>
    <li class="member"><span class="function"><a href="function.pg-fetch-object.html" class="function" rel="rdfs-seeAlso">pg_fetch_object()</a> - Fetch a row as an object</span></li>
    <li class="member"><span class="function"><a href="function.pg-fetch-result.html" class="function" rel="rdfs-seeAlso">pg_fetch_result()</a> - Returns values from a result instance</span></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>